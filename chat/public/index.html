<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>채팅방111 - stoneis.pe.kr</title>
<link rel='stylesheet' href="/stylesheets/style.css" />
<script src="/socket.io/socket.io.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
	var chat_id = '';
	var cnt = 0;
	var socket = null;
	$(document).ready(function() {
		socket = io.connect();
		 socket.on('socket_evt_chat_user', function (data) {
              data = JSON.parse(data);
              cnt = data.length;
              // 현재접속자수 표시
              $('#now_user_cnt').html(cnt);
          });
          // 접속로그를 얻는 소켓 이벤트
          socket.on('socket_evt_logs', function (data) {
              data = JSON.parse(data);
              // 접속로그를 비우고 다시 채움
              $('#chat_logs').empty();
              for(var i=0; i<data.length; i++){
                  $('#chat_logs').append('<li>' + data[i].log + '('+data[i].date+')' + '</li>');
              }
              // 채워진 접속로그의 스크롤이 하단에 위치할 수 있도록 설정
              $('.chat_history_list').scrollTop($('#chat_logs').height()); 
          });
          // DOM이 Load 완료 후 실행되는 함수
          chat_user();

		$('#chat_input').keypress(function(e){
			// 채팅 글을 입력 후 Enter 키를 눌렀을 경우 메시지 전달 처리 (Socket 통신)

		});

		$(window).unload(function(){

		});
	});

	function chat_input(){

	}

	function chat_out(){

	}

	function chat_in(){

	}

	function chat_user(){
		socket.emit('chat_user', '{"channel": "workspace"}');
	}

	function connection(){

	}

	function getToday() {
		var date = new Date();
		return date.getFullYear() +'.'+ (date.getMonth()+1) +'.'+ date.getDate() +' '+ date.getHours() +':'+ date.getMinutes() +':'+date.getSeconds();
	}


</script>
</head>
<body>
	<!-- 컨텐츠 영역 -->
	<div id="contents">
	<h1>채팅방 (blog.naver.com/musasin84, cafe.naver.com/buldon)</h1>
	<div class="chat_content">
		<!-- 로그인 영역 -->
		<div class="chat_login">
			<div class="chat_login_form">
				<input type="text" class="login_input" placeholder="ID 입력" />&nbsp;&nbsp;
				<a href="javascript:connection();">접속하기</a>
			</div>
			<div class="now_user_cnt"><strong>현재접속자수</strong> : 10</div>
		<!-- //로그인 영역 -->
		</div>
		<!-- 채팅창 영역 -->
		<div class="chat_form">
			<div class="chat_list">
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
				<strong>STONE : </strong>동해물과 백두산이 마르고 닳도록 하느 마르고 닳도록 하느 <br/>
			</div>
			<div class="chat_user">
				<div class="chat_user_list">
					<ul>
						<li><strong>stone1111</strong></li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
						<li>stone2222</li>
						<li>stone3333</li>
					</ul>
				</div>
			</div>
			<div class="chat_input">
				<input type="text" class="chat_input_txt" placeholder="대화 글을 입력하세요." />
			</div>
			<div class="chat_btn">
				<a href="javascript:chat_input();">입력</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:chat_out();">나가기</a>
			</div>
		<!-- //채팅창 영역 -->
		</div>
		<!-- 접속로그 영역 -->
		<div class="chat_history">
			<div class="chat_history_list">
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
				stone 접속하셨습니다.<br/>
			</div>
		<!-- //접속로그 영역 -->
		</div>
	</div>
	<!-- //컨텐츠 영역 -->
	</div>

</body>
</html>
